// Generated by CoffeeScript 1.9.3
var addAccess, removeAccess, updateAccess;

addAccess = require('../lib/token').addAccess;

updateAccess = require('../lib/token').updateAccess;

removeAccess = require('../lib/token').removeAccess;

module.exports.create = function(req, res, next) {
  var access;
  access = req.body;
  access.id = access.app;
  return addAccess(access, function(err, access) {
    if (err) {
      return next(err);
    } else {
      return res.status(201).send(access);
    }
  });
};

module.exports.update = function(req, res, next) {
  var access;
  access = req.body;
  return updateAccess(req.params.id, access, function(err, access) {
    if (err) {
      return next(err);
    } else {
      return res.status(200).send({
        success: true
      });
    }
  });
};

module.exports.remove = function(req, res, next) {
  return removeAccess(req.doc, function(err) {
    if (err) {
      return next(err);
    } else {
      return res.status(204).send({
        success: true
      });
    }
  });
};
