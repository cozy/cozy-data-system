// Generated by CoffeeScript 1.10.0
var db, getDeletedDoc;

db = require('../helpers/db_connect_helper').db_connect();

getDeletedDoc = function(doc) {
  return {
    _id: doc._id,
    _rev: doc._rev,
    _deleted: true,
    docType: doc.docType,
    binary: doc.binary,
    shareID: doc.shareID
  };
};

exports.remove = function(doc, callback) {
  var deletedDoc;
  deletedDoc = getDeletedDoc(doc);
  return db.save(doc._id, deletedDoc, callback);
};

exports.removeAll = function(docs, callback) {
  var deletedDocs, doc, i, len;
  deletedDocs = [];
  for (i = 0, len = docs.length; i < len; i++) {
    doc = docs[i];
    deletedDocs.push(getDeletedDoc(doc.value));
  }
  return db.save(deletedDocs, callback);
};
